(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),l=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,o=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=l(n),b=a,m=p["".concat(o,".").concat(b)]||p[b]||d[b]||s;return n?r.a.createElement(m,i(i({ref:t},c),{},{components:n})):r.a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=b;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var c=2;c<s;c++)o[c]=n[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},98:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return l}));var a=n(3),r=n(7),s=(n(0),n(120)),o={id:"using-redux-state",title:"using redux state"},i={unversionedId:"guides/using-redux-state",id:"guides/using-redux-state",isDocsHomePage:!1,title:"using redux state",description:"Lets create a new state in the redux store at the path named todos with initial values of array [1,2,3].",source:"@site/docs/guides/using-redux-state.md",slug:"/guides/using-redux-state",permalink:"/use-redux-states/docs/next/guides/using-redux-state",editUrl:"https://github.com/myckhel/use-redux-states/edit/master/redux-state/docs/guides/using-redux-state.md",version:"current",sidebar:"someSidebar",previous:{title:"Usage",permalink:"/use-redux-states/docs/next/usage"},next:{title:"Usage With Redux Toolkit",permalink:"/use-redux-states/docs/next/usage-with-redux-toolkit"}},u=[{value:"Retriving state values",id:"retriving-state-values",children:[{value:"Reactively get state",id:"reactively-get-state",children:[]},{value:"Customise state selector",id:"customise-state-selector",children:[]}]},{value:"controlling how initial state should be set",id:"controlling-how-initial-state-should-be-set",children:[]}],c={toc:u};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Lets create a new state in the redux store at the path named ",Object(s.b)("inlineCode",{parentName:"p"},"todos")," with initial values of array ",Object(s.b)("inlineCode",{parentName:"p"},"[1,2,3]"),"."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import {useReduxState} from 'use-redux-states'\n\nconst App = () => {\n  useReduxState({\n    path: 'todos',\n    state: [1,2,3],\n  })\n  // creates state in the store with key = todos and value = [1,2,3]\n}\n")),Object(s.b)("h2",{id:"retriving-state-values"},"Retriving state values"),Object(s.b)("p",null,"Lets retrieve the new state we have created using ",Object(s.b)("a",{parentName:"p",href:"./../apis/get-state"},"getState"),"."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import {useReduxState} from 'use-redux-states'\n\nconst App = () => {\n  const {getState} = useReduxState({\n    path: 'todos',\n    state: [1,2,3],\n  })\n\n  console.log(getState()) // [1,2,3]\n}\n")),Object(s.b)("h3",{id:"reactively-get-state"},"Reactively get state"),Object(s.b)("p",null,"We can retrieve states reactively using ",Object(s.b)("a",{parentName:"p",href:"./../apis/hooks/use-memo-selector"},"useMemoSelector")," hook."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import {useReduxState} from 'use-redux-states'\n\nconst App = () => {\n  const {useMemoSelector} = useReduxState({\n    path: 'todos',\n    state: [1,2,3],\n  })\n\n  const todos = useMemoSelector()\n\n  console.log(todos) // [1,2,3]\n}\n")),Object(s.b)("h3",{id:"customise-state-selector"},"Customise state selector"),Object(s.b)("p",null,"We can customise retrieved states by passing callback function to ",Object(s.b)("a",{parentName:"p",href:"./../apis/hooks/use-memo-selector"},"useMemoSelector")," hook and or ",Object(s.b)("a",{parentName:"p",href:"./../apis/get-state"},"getState"),"."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import {useReduxState} from 'use-redux-states'\n\nconst App = () => {\n  const {useMemoSelector, getState} = useReduxState({\n    path: 'todos',\n    state: [1,2,3],\n  })\n\n  const todo = useMemoSelector((todos) => todos[0])\n\n  const todo2 = getState((todos) => todos[1])\n\n  console.log(todo, todo2) // 1,2\n}\n")),Object(s.b)("h2",{id:"controlling-how-initial-state-should-be-set"},"controlling how initial state should be set"),Object(s.b)("p",null,"When you use the ",Object(s.b)("inlineCode",{parentName:"p"},"redux-state-hook")," with a default state, under the hood it sets the initial state in the store with the given path.",Object(s.b)("br",null),"\n",Object(s.b)("inlineCode",{parentName:"p"},"redux-state-hook")," has an intelligent setter function which determines how your state will be set based on the payload ",Object(s.b)("strong",{parentName:"p"},"(referring the initial state as the payload)"),".\nWhen array is passed as the payload setter assumes you will append the payload with the current state array.",Object(s.b)("br",null),"\nGiven the example below the initial todos state has ",Object(s.b)("inlineCode",{parentName:"p"},"[1,2]")," value, setter will push to the existing array state if the payload is array otherwise will replace the state."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport useReduxState from 'use-redux-states'\n\nconst App = () => {\n  // existing todos state = [1,2]\n  useReduxState({\n    path: 'todos',\n    state: [3],\n  })\n  // later todos state = [1,2,3]\n}\n")),Object(s.b)("p",null,"Same logic applies to json object but ",Object(s.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Glossary/Primitive"},"primitive")," payload value replaces the existing state.",Object(s.b)("br",null),"\nYou can handle the setter behaviour by passing a reducer function."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"import React from 'react'\nimport useReduxState from 'use-redux-states'\n\nconst App = () => {\n  // existing todos state = [1,2]\n  useReduxState({\n    path: 'todos',\n    state: [3],\n    reducer: (existingState, payload) => existingState ? [...payload, ...existingState] : payload\n    // custom setter function prepends to the existing state\n  })\n  // later todos state = [3,1,2]\n}\n")))}l.isMDXComponent=!0}}]);