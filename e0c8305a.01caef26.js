(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return l}));var a=n(2),r=n(6),s=(n(0),n(84)),u={id:"use-redux-state",title:"useReduxState"},c={unversionedId:"apis/use-redux-state",id:"apis/use-redux-state",isDocsHomePage:!1,title:"useReduxState",description:"This hook allows to create redux state at runtime.",source:"@site/docs\\apis\\use-redux-state.md",slug:"/apis/use-redux-state",permalink:"/use-redux-state-hook/docs/next/apis/use-redux-state",editUrl:"https://github.com/myckhel/use-redux-state-hook/edit/master/redux-state/docs/apis/use-redux-state.md",version:"current",sidebar:"someSidebar",previous:{title:"state",permalink:"/use-redux-state-hook/docs/next/guides/state"},next:{title:"useMemoSelector",permalink:"/use-redux-state-hook/docs/next/apis/use-memo-selector"}},o=[{value:"<code>config</code>",id:"config",children:[{value:"name&#39;&#39;",id:"name",children:[]},{value:"state",id:"state",children:[]},{value:"reducer()",id:"reducer",children:[]},{value:"unmount.",id:"unmount",children:[]},{value:"cleanup.",id:"cleanup",children:[]}]},{value:"<code>Example</code>",id:"example",children:[]}],i={rightToc:o};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},i,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"This hook allows to create redux state at runtime."),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-ts"},"useReduxState(stateName?: string, state?: any)\n")),Object(s.b)("p",null,"or"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"useReduxState(config?: {\n  name?: 'string', // nested state name\n  state?: any, // initial state\n  reducer?: (storeState, initialState) => mergedState\n})\n")),Object(s.b)("h4",{id:"returns"},Object(s.b)("inlineCode",{parentName:"h4"},"returns")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{\n  selector, setState, getState, action, cleanup, useMemoSelector\n}\n")),Object(s.b)("h2",{id:"config"},Object(s.b)("inlineCode",{parentName:"h2"},"config")),Object(s.b)("h3",{id:"name"},"name''"),Object(s.b)("p",null,"nestable key name of the redux state"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"useReduxState({name: 'state.name', state: 'Mike'});\n// creates nested state in the store {state: {name: 'Mike'}}\n")),Object(s.b)("h3",{id:"state"},"state"),Object(s.b)("p",null,"initial state"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"useReduxState({name: 'state.name', state: 'Mike'});\n// creates nested state in the store {state: {name: 'Mike'}}\n")),Object(s.b)("h3",{id:"reducer"},"reducer()"),Object(s.b)("p",null,"funtion that takes storeState, initState and returns new state.\nthis funtion runs once during the initialization of the state\nuse the function when you dont want to replace the existing state in redux store"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"useReduxState({name: 'state.name', state: {is: 'Mike'}});\n// {state: {name: {is: 'Mike'}}}\n\nuseReduxState({\n  name: 'state.name',\n  state: {and: 'Redux'},\n  reducer: (storeState, state) => ({...storeState, ...state})\n});\n")),Object(s.b)("p",null,"in the above example\nreducer has prevented from overwritting the store state\nintead of:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{state: {name: {and: 'Redux'}}}\n")),Object(s.b)("p",null,"we got:"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"{state: {name: {is: 'Mike', and: 'Redux'}}}\n")),Object(s.b)("h3",{id:"unmount"},"unmount."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"type:")," boolean\n",Object(s.b)("strong",{parentName:"p"},"default:")," false"),Object(s.b)("p",null,"determines whether redux state should mount"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"useReduxState({unmount: true, name: 'state.name', state: 'Mike'});\n// store undefined\nuseReduxState({unmount: false, name: 'state.name', state: 'Mike'});\n// {state: {name: 'Mike'}}\n")),Object(s.b)("h3",{id:"cleanup"},"cleanup."),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"type:")," boolean"),Object(s.b)("p",null,"determines whether redux state should cleanup the state when component unmounted from view"),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"const {getState} = useReduxState({cleanup: true, name: 'state.name', state: 'Mike'});\n\nuseEffect(() => {\n  console.log(getState()) // {state: {name: 'Mike'}}\n  return () => console.log(getState()) // undefined\n}, [])\n")),Object(s.b)("h2",{id:"example"},Object(s.b)("inlineCode",{parentName:"h2"},"Example")),Object(s.b)("pre",null,Object(s.b)("code",{parentName:"pre",className:"language-js"},"const {selector, setState} = useReduxState({\n  name: 'state.name',\n  state: {\n    count: 1,\n    locale: 'en_US'\n  }\n});\n")))}l.isMDXComponent=!0},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=r.a.createContext({}),l=function(e){var t=r.a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=l(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,u=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),d=l(n),b=a,m=d["".concat(u,".").concat(b)]||d[b]||p[b]||s;return n?r.a.createElement(m,c(c({ref:t},i),{},{components:n})):r.a.createElement(m,c({ref:t},i))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,u=new Array(s);u[0]=b;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,u[1]=c;for(var i=2;i<s;i++)u[i]=n[i];return r.a.createElement.apply(null,u)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);